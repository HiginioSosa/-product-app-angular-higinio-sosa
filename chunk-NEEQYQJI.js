import{a as I}from"./chunk-2SLC7ZRH.js";import{B as S,H as u,I as _,J as M,K as k,L as C,M as e,N as n,O,P as f,Q as p,R as a,T as i,U as g,V as y,X as w,Y as E,Z as L,ca as T,da as D,la as V,p as P,q as s,r as m,t as v,x as h,y as d}from"./chunk-JCHXBMBF.js";var F=o=>["/products",o,"edit"],j=(o,r)=>r.id;function A(o,r){o&1&&(e(0,"div",3),O(1,"div",8),e(2,"p"),i(3,"Loading products..."),n()())}function N(o,r){if(o&1){let t=f();e(0,"div",4)(1,"p"),i(2),n(),e(3,"button",9),p("click",function(){s(t);let l=a();return m(l.loadProducts())}),i(4," Try Again "),n()()}if(o&2){let t=a();d(2),g(t.productService.error())}}function z(o,r){if(o&1){let t=f();e(0,"tr")(1,"td")(2,"img",11),p("error",function(l){s(t);let x=a(2);return m(x.onImageError(l))}),n()(),e(3,"td"),i(4),n(),e(5,"td"),i(6),n(),e(7,"td"),i(8),E(9,"currency"),n(),e(10,"td")(11,"div",12)(12,"button",13),i(13," Edit "),n(),e(14,"button",14),p("click",function(){let l=s(t).$implicit,x=a(2);return m(x.confirmDelete(l))}),i(15," Delete "),n()()()()}if(o&2){let t=r.$implicit;d(2),C("src",t.image,h)("alt",t.title),d(2),g(t.title),d(2),g(t.category),d(2),g(L(9,6,t.price)),d(4),C("routerLink",w(8,F,t.id))}}function $(o,r){if(o&1&&(e(0,"div",5)(1,"table",10)(2,"thead")(3,"tr")(4,"th"),i(5,"Image"),n(),e(6,"th"),i(7,"Name"),n(),e(8,"th"),i(9,"Category"),n(),e(10,"th"),i(11,"Price"),n(),e(12,"th"),i(13,"Actions"),n()()(),e(14,"tbody"),M(15,z,16,10,"tr",null,j),n()()()),o&2){let t=a();d(15),k(t.productService.products())}}function B(o,r){o&1&&(e(0,"div",6)(1,"p"),i(2,"No products found"),n(),e(3,"button",2),i(4," Add First Product "),n()())}function H(o,r){if(o&1){let t=f();e(0,"div",15),p("click",function(){s(t);let l=a();return m(l.cancelDelete())}),e(1,"div",16),p("click",function(l){return s(t),m(l.stopPropagation())}),e(2,"h3"),i(3,"Confirm Delete"),n(),e(4,"p"),i(5),n(),e(6,"div",17)(7,"button",9),p("click",function(){s(t);let l=a();return m(l.cancelDelete())}),i(8," Cancel "),n(),e(9,"button",18),p("click",function(){s(t);let l=a();return m(l.deleteProduct())}),i(10," Delete "),n()()()()}if(o&2){let t,c=a();d(5),y('Are you sure you want to delete "',(t=c.productToDelete())==null?null:t.title,'"?')}}var b=class o{productService=P(I);productToDelete=v(null);ngOnInit(){this.loadProducts()}loadProducts(){this.productService.loadProducts()}confirmDelete(r){this.productToDelete.set(r)}cancelDelete(){this.productToDelete.set(null)}deleteProduct(){let r=this.productToDelete();r&&this.productService.deleteProduct(r.id).subscribe({next:()=>{this.productToDelete.set(null)},error:t=>{console.error("Error deleting product:",t),this.productToDelete.set(null)}})}onImageError(r){let t=r.target;t.src="public/assets/placeholder-image.png"}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=S({type:o,selectors:[["app-product-list"]],decls:11,vars:5,consts:[[1,"product-list-container"],[1,"header"],["routerLink","/products/new",1,"btn","btn-primary"],[1,"loading"],[1,"error-message"],[1,"table-container"],[1,"empty-state"],[1,"modal-backdrop"],[1,"spinner"],[1,"btn","btn-secondary",3,"click"],[1,"products-table"],[1,"product-image",3,"error","src","alt"],[1,"actions"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"modal-backdrop",3,"click"],[1,"modal",3,"click"],[1,"modal-actions"],[1,"btn","btn-danger",3,"click"]],template:function(t,c){t&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Products"),n(),e(4,"button",2),i(5," Add New Product "),n()(),u(6,A,4,0,"div",3),u(7,N,5,1,"div",4),u(8,$,17,0,"div",5),u(9,B,5,0,"div",6),u(10,H,11,1,"div",7),n()),t&2&&(d(6),_(c.productService.isLoading()?6:-1),d(),_(c.productService.error()?7:-1),d(),_(!c.productService.isLoading()&&c.productService.products().length>0?8:-1),d(),_(!c.productService.isLoading()&&c.productService.products().length===0?9:-1),d(),_(c.productToDelete()?10:-1))},dependencies:[D,T,V],styles:[".product-list-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 4px #0000001a}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.loading[_ngcontent-%COMP%]{text-align:center;padding:3rem}.spinner[_ngcontent-%COMP%]{border:3px solid #f3f3f3;border-top:3px solid #1976d2;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#d32f2f}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.products-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #e0e0e0}.products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}.product-image[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:contain}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;font-size:.875rem;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#1565c0}.btn-secondary[_ngcontent-%COMP%]{background-color:#757575;color:#fff}.btn-danger[_ngcontent-%COMP%]{background-color:#d32f2f;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c62828}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:.75rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;max-width:400px;width:90%}.modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:1.5rem}"]})};export{b as default};
